Hive提供了动态分区的功能，其可以基于查询参数推断出需要创建的分区的名称。

动态分区使用的分区字段值跟源表字段值之间的关系是根据位置而不是根据命名来匹配的。

用户可以混合使用动态和静态分区，但**静态分区键必须出现在动态分区键之前**。

动态分区功能默认情况下是没有开启的。开启后，默认是以`strict`模式执行的，在这种模式下要求至少有一列分区字段是静态的。这有助于因设计错误导致查询产生大量的分区，例如，用户可能错误地使用时间错作为分区字段，然后导致每秒都对应一个分区，而用户也许是期望按照天或者按照小时进行划分地。

动态分区属性，如下表：

|                  属性名称                   | 缺省值 |                                                        描述                                                        |
| :----------------------------------------: | :----: | ----------------------------------------------------------------------------------------------------------------- |
|       `hive.exec.dynamic.partition`        | false  | 设置成true，表示开启动态分区功能                                                                                     |
|     `hive.exec.dynamic.partition.mode`     | strict | 设置成nonstrict，表示允许所有分区都是动态                                                                            |
| `hive.exec.max.dynamic.partitions.pernode` |  100   | 每个mapper或reducer可以创建的最大动态分区个数。如果某个mapper或reducer尝试创建大于这个值的分区的话则会抛出一个致命错误信息 |
|     `hive.exec.max.dynamic.partitions`     | +1000  | 一个动态分区创建语句可以创建的最大动态分区个数。如果超过这个值则会抛出一个致命错误信息                                    |
|       `hive.exec.max.created.files`        | 100000 | 全局可以创建的最大文件个数。有一个Hadoop计数器会跟踪记录创建了多少个文件，如果超过这个值则会抛出一个致命错误信息            |