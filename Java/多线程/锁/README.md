# 锁

在 JDK 1.6 中，锁一共有 4 种状态，级别从低到高依次是：无锁状态、偏向锁状态、轻量级锁状态和重量级锁状态，这几个状态会随着竞争情况逐渐升级。锁可以升级但不能降级，意味着偏向锁升级成轻量锁后不能降级成偏向锁。这种锁升级却不能降级的策略，目的是为了提高获得锁和释放锁的效率。

**锁是存在 Java 对象头里的**。Java 对象头里的 Mark Word 里默认存储对象的 HashCode、分代年龄和锁标记。32 位 JVM 的 Mark Word 的默认存储结构如下所示：

![image-20200612002307247](D:\superz\BigData-A-Question\Java\多线程\锁\images\image-20200612002307247.png)

**在运行期间，Mark Word 里存储的数据会随着锁标志位的变化而变换**。Mark Word 可能变化为存储以下 4 种数据，如下所示：

![image-20200612002612444](D:\superz\BigData-A-Question\Java\多线程\锁\images\image-20200612002612444.png)

