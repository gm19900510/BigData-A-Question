# 索引

索引是帮助数据库高效获取数据的数据结构。

## 索引分类

### 从存储结构上来划分

- Btree索引（B+tree，B-tree) 
- 哈希索引 
- full-index全文索引 
- RTree

### 从应用层次上来划分

- 普通索引：即一个索引只包含单个列，一个表可以有多个单列索引。 
- 唯一索引：索引列的值必须唯一，但允许有空值。 
- 复合索引：一个索引包含多个列。

#### 从表记录的排列顺序和索引的排列顺序是否一致来划分

- 聚集索引：表记录的排列顺序和索引的排列顺序一致。
- 非聚集索引：表记录的排列顺序和索引的排列顺序不一致。

#### 聚集索引和非聚集索引

**简单概括**

- 聚集索引：就是以主键创建的索引。 
- 非聚集索引：就是以非主键创建的索引（也叫做二级索引）。

**详细概括**

- **聚集索引**

聚集索引表记录的排列顺序和索引的排列顺序一致，所以查询效率快，因为只要找到第一个索引值记录，其余的连续性的记录在物理表中也会连续存放，一起就可以查询到。

缺点：新增比较慢，因为为了保证表中记录的物理顺序和索引顺序一致，在记录插入的时候，会对数据页重新排序。

- **非聚集索引**

索引的逻辑顺序与磁盘上行的物理存储顺序不同，非聚集索引在叶子节点存储的是主键和索引列，当我们使用非聚集索引查询数据时，需要拿到叶子上的主键再去表中查到想要查找的数据。这个过程就是我们所说的回表。

**聚集索引和非聚集索引的区别**

- 聚集索引在叶子节点存储的是表中的数据。 
- 非聚集索引在叶子节点存储的是主键和索引列。